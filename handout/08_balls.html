<h1 id="–ø–∞–¥–∞—é—â–∏–µ-—à–∞—Ä—ã-–¥–æ–±–∞–≤–ª—è–µ–º-—Ñ–∏–∑–∏–∫—É-–∏-–¥–≤–∏–∂–µ–Ω–∏–µ">–ü–∞–¥–∞—é—â–∏–µ —à–∞—Ä—ã:
–î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–∑–∏–∫—É –∏ –¥–≤–∏–∂–µ–Ω–∏–µ üî¥üîµ</h1>
<h2 id="—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ñ–∏–∑–∏–∫–∞-–≤-3d-–º–∏—Ä–µ">–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∏–∑–∏–∫–∞ –≤ 3D –º–∏—Ä–µ?</h2>
<p>–§–∏–∑–∏–∫–∞ –≤ 3D –º–∏—Ä–µ - —ç—Ç–æ –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –æ–±—ä–µ–∫—Ç—ã
–¥–≤–∏–≥–∞—Ç—å—Å—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ. –í –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ —à–∞—Ä—ã –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å, —Å—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è
—Å–æ —Å—Ç–µ–Ω–∫–∞–º–∏ –±–∞—Å—Å–µ–π–Ω–∞ –∏ –æ—Ç—Å–∫–∞–∫–∏–≤–∞—Ç—å - —Å–æ–≤—Å–µ–º –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ!</p>
<h2 id="—Å–æ–∑–¥–∞–Ω–∏–µ-–ø–∞–¥–∞—é—â–µ–≥–æ-—à–∞—Ä–∞">–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–¥–∞—é—â–µ–≥–æ —à–∞—Ä–∞</h2>
<p>–®–∞—Ä - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–¥—á–∏–Ω—è—Ç—å—Å—è –∑–∞–∫–æ–Ω–∞–º —Ñ–∏–∑–∏–∫–∏: - –ü–∞–¥–∞—Ç—å
–ø–æ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ - –û—Ç—Å–∫–∞–∫–∏–≤–∞—Ç—å –æ—Ç —Å—Ç–µ–Ω–æ–∫ –∏ –¥–Ω–∞ –±–∞—Å—Å–µ–π–Ω–∞ -
–°—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ —à–∞—Ä–∞–º–∏</p>
<h2 id="–∫–∞–∫-–¥–æ–±–∞–≤–∏—Ç—å-—Ñ–∏–∑–∏–∫—É-–∫-—à–∞—Ä—É">–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∑–∏–∫—É –∫ —à–∞—Ä—É?</h2>
<p>–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É React Three Cannon –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
—Ñ–∏–∑–∏–∫–∏:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">FallingBall</span>({ position<span class="op">,</span> size<span class="op">,</span> color }) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// useSphere —Å–æ–∑–¥–∞–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Ç–µ–ª–æ –≤ —Ñ–æ—Ä–º–µ —à–∞—Ä–∞</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> [ref] <span class="op">=</span> <span class="fu">useSphere</span>(() <span class="kw">=&gt;</span> ({</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">mass</span><span class="op">:</span> size <span class="op">*</span> <span class="dv">10</span><span class="op">,</span> <span class="co">// –ú–∞—Å—Å–∞ —à–∞—Ä–∞ (—Ç—è–∂–µ–ª–µ–µ = —Å–∏–ª—å–Ω–µ–µ –ø–∞–¥–∞–µ—Ç)</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    position<span class="op">,</span> <span class="co">// –ù–∞—á–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">args</span><span class="op">:</span> [size]<span class="op">,</span> <span class="co">// –†–∞–∑–º–µ—Ä —à–∞—Ä–∞</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">restitution</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span> <span class="co">// –£–ø—Ä—É–≥–æ—Å—Ç—å (–Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –æ—Ç—Å–∫–∞–∫–∏–≤–∞–µ—Ç)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">linearDamping</span><span class="op">:</span> <span class="fl">0.1</span> <span class="co">// –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  }))<span class="op">;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>mesh ref<span class="op">=</span>{ref} castShadow<span class="op">&gt;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>      <span class="op">&lt;</span>sphereGeometry args<span class="op">=</span>{[size<span class="op">,</span> <span class="dv">16</span><span class="op">,</span> <span class="dv">16</span>]} <span class="op">/&gt;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="op">&lt;</span>meshStandardMaterial </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span>{color} </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        metalness<span class="op">=</span>{<span class="fl">0.5</span>} </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        roughness<span class="op">=</span>{<span class="fl">0.1</span>} </span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>      <span class="op">/&gt;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;/</span>mesh<span class="op">&gt;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="—á—Ç–æ-–æ–∑–Ω–∞—á–∞—é—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-—Ñ–∏–∑–∏–∫–∏">–ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
—Ñ–∏–∑–∏–∫–∏?</h2>
<ul>
<li><strong>mass</strong> - –º–∞—Å—Å–∞ —à–∞—Ä–∞. –ß–µ–º –±–æ–ª—å—à–µ –º–∞—Å—Å–∞, —Ç–µ–º —Ç—è–∂–µ–ª–µ–µ
—à–∞—Ä</li>
<li><strong>restitution</strong> - —É–ø—Ä—É–≥–æ—Å—Ç—å. –ó–Ω–∞—á–µ–Ω–∏–µ 1 –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ
—à–∞—Ä –æ—Ç—Å–∫–∞–∫–∏–≤–∞–µ—Ç —Å —Ç–æ–π –∂–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é, —Å –∫–æ—Ç–æ—Ä–æ–π —É–¥–∞—Ä–∏–ª—Å—è</li>
<li><strong>linearDamping</strong> - —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ. –ö–∞–∫ –±—ã—Å—Ç—Ä–æ —à–∞—Ä
–∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏</li>
</ul>
<h2 id="—Å–æ–∑–¥–∞–Ω–∏–µ-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-—à–∞—Ä–æ–≤">–°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–∞—Ä–æ–≤</h2>
<p>–ú—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ —à–∞—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –º–∞—Å—Å–∏–≤ –∏ –º–µ—Ç–æ–¥ map:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Scene</span>() {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// –ú–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞—Ä–∞</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> balls <span class="op">=</span> [</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">id</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">position</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">0</span>]<span class="op">,</span> <span class="dt">size</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">&quot;#ff0000&quot;</span> }<span class="op">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">id</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">position</span><span class="op">:</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">0</span>]<span class="op">,</span> <span class="dt">size</span><span class="op">:</span> <span class="fl">0.7</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">&quot;#00ff00&quot;</span> }<span class="op">,</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">id</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">position</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">0</span>]<span class="op">,</span> <span class="dt">size</span><span class="op">:</span> <span class="fl">0.3</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">&quot;#0000ff&quot;</span> }</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>      {<span class="co">/* –°–æ–∑–¥–∞–µ–º —à–∞—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞ */</span>}</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>      {balls<span class="op">.</span><span class="fu">map</span>(ball <span class="kw">=&gt;</span> (</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>FallingBall </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>          key<span class="op">=</span>{ball<span class="op">.</span><span class="at">id</span>}</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>          position<span class="op">=</span>{ball<span class="op">.</span><span class="at">position</span>}</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>          size<span class="op">=</span>{ball<span class="op">.</span><span class="at">size</span>}</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>          color<span class="op">=</span>{ball<span class="op">.</span><span class="at">color</span>}</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">/&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>      ))}</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>      <span class="op">&lt;</span>Pool <span class="op">/&gt;</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;/&gt;</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ-—Å–æ–∑–¥–∞–Ω–∏–µ-—à–∞—Ä–æ–≤">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —à–∞—Ä–æ–≤</h2>
<p>–°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ - —Å–æ–∑–¥–∞–≤–∞—Ç—å —à–∞—Ä—ã —Å –ø–æ–º–æ—â—å—é –º—ã—à–∏!</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Scene</span>() {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —à–∞—Ä–æ–≤</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> [balls<span class="op">,</span> setBalls] <span class="op">=</span> <span class="fu">useState</span>([])<span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —à–∞—Ä–∞</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">createBall</span>(x<span class="op">,</span> y) {</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> newBall <span class="op">=</span> {</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">id</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>()<span class="op">,</span> <span class="co">// –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">position</span><span class="op">:</span> [x<span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">0</span>]<span class="op">,</span> <span class="co">// –ü–æ–ª–æ–∂–µ–Ω–∏–µ (x –∏–∑ –º—ã—à–∏, y - –≤—ã—Å–æ–∫–æ)</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">size</span><span class="op">:</span> <span class="fl">0.2</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="fl">0.3</span><span class="op">,</span> <span class="co">// –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">color</span><span class="op">:</span> <span class="vs">`hsl(</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="dv">360</span><span class="sc">}</span><span class="vs">, 80%, 60%)`</span> <span class="co">// –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —à–∞—Ä –≤ –º–∞—Å—Å–∏–≤ —à–∞—Ä–æ–≤</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setBalls</span>([<span class="op">...</span>balls<span class="op">,</span> newBall])<span class="op">;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –º—ã—à–∏</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">handleClick</span>(<span class="bu">event</span>) {</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// –í—ã—á–∏—Å–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ 3D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –º—ã—à–∏</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> x <span class="op">=</span> (<span class="bu">event</span><span class="op">.</span><span class="at">clientX</span> <span class="op">/</span> <span class="bu">window</span><span class="op">.</span><span class="at">innerWidth</span>) <span class="op">*</span> <span class="dv">2</span> <span class="op">-</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> y <span class="op">=</span> <span class="op">-</span>(<span class="bu">event</span><span class="op">.</span><span class="at">clientY</span> <span class="op">/</span> <span class="bu">window</span><span class="op">.</span><span class="at">innerHeight</span>) <span class="op">*</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">createBall</span>(x <span class="op">*</span> <span class="dv">5</span><span class="op">,</span> y <span class="op">*</span> <span class="dv">5</span>)<span class="op">;</span> <span class="co">// –°–æ–∑–¥–∞–µ–º —à–∞—Ä</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>Canvas onClick<span class="op">=</span>{handleClick}<span class="op">&gt;</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>      {<span class="co">/* –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —à–∞—Ä—ã */</span>}</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>      {balls<span class="op">.</span><span class="fu">map</span>(ball <span class="kw">=&gt;</span> (</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>FallingBall key<span class="op">=</span>{ball<span class="op">.</span><span class="at">id</span>} {<span class="op">...</span>ball} <span class="op">/&gt;</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>      ))}</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>      <span class="op">&lt;</span>Pool <span class="op">/&gt;</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;/</span>Canvas<span class="op">&gt;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="—É–ª—É—á—à–µ–Ω–∏–µ-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è-—Å-—à–∞—Ä–∞–º–∏">–£–ª—É—á—à–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å
—à–∞—Ä–∞–º–∏</h2>
<p>–ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ‚Äú–¥–µ—Ä–∂–∞—Ç—å‚Äù —à–∞—Ä, –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –µ–≥–æ –∏ –∑–∞—Ç–µ–º
–æ—Ç–ø—É—Å–∫–∞—Ç—å:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">App</span>() {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> [isPressed<span class="op">,</span> setIsPressed] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> [heldBall<span class="op">,</span> setHeldBall] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">handleMouseDown</span>() {</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setIsPressed</span>(<span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —à–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –∑–∞ –º—ã—à—å—é</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setHeldBall</span>({</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">id</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>()<span class="op">,</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">size</span><span class="op">:</span> <span class="fl">0.3</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="fl">0.3</span><span class="op">,</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">color</span><span class="op">:</span> <span class="vs">`hsl(</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="dv">360</span><span class="sc">}</span><span class="vs">, 80%, 60%)`</span><span class="op">,</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">isHeld</span><span class="op">:</span> <span class="kw">true</span> <span class="co">// –û—Ç–º–µ—á–∞–µ–º, —á—Ç–æ —à–∞—Ä &quot;–¥–µ—Ä–∂–∞—Ç&quot;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">handleMouseUp</span>() {</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (heldBall) {</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>      <span class="co">// –ö–æ–≥–¥–∞ –æ—Ç–ø—É—Å–∫–∞–µ–º —à–∞—Ä, –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –≤ –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setBalls</span>(balls <span class="kw">=&gt;</span> [<span class="op">...</span>balls<span class="op">,</span> { <span class="op">...</span>heldBall<span class="op">,</span> <span class="dt">isHeld</span><span class="op">:</span> <span class="kw">false</span> }])<span class="op">;</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setHeldBall</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setIsPressed</span>(<span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>Canvas</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>      onMouseDown<span class="op">=</span>{handleMouseDown}</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>      onMouseUp<span class="op">=</span>{handleMouseUp}</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>      {<span class="co">/* –®–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –¥–µ—Ä–∂–∞—Ç */</span>}</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>      {heldBall <span class="op">&amp;&amp;</span> <span class="op">&lt;</span>HeldBall {<span class="op">...</span>heldBall} <span class="op">/&gt;</span>}</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>      {<span class="co">/* –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —à–∞—Ä—ã */</span>}</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>      {balls<span class="op">.</span><span class="fu">map</span>(ball <span class="kw">=&gt;</span> <span class="op">&lt;</span>FallingBall key<span class="op">=</span>{ball<span class="op">.</span><span class="at">id</span>} {<span class="op">...</span>ball} <span class="op">/&gt;</span>)}</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>      <span class="op">&lt;</span>Pool <span class="op">/&gt;</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;/</span>Canvas<span class="op">&gt;</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è-–º–µ–∂–¥—É-—à–∞—Ä–∞–º–∏">–§–∏–∑–∏—á–µ—Å–∫–∏–µ
–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —à–∞—Ä–∞–º–∏</h2>
<p>–°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ - —ç—Ç–æ –Ω–∞–±–ª—é–¥–∞—Ç—å, –∫–∞–∫ —à–∞—Ä—ã —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å
–¥—Ä—É–≥–æ–º! React Three Cannon –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è -
–Ω–∞–º –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–µ–ª–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.</p>
<h2 id="–¥–∞–≤–∞–π-–ø–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–µ–º">–î–∞–≤–∞–π –ø–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–µ–º!</h2>
<p>–ü–æ–ø—Ä–æ–±—É–π –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞—Ä–æ–≤ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç: -
–£–≤–µ–ª–∏—á—å –∏–ª–∏ —É–º–µ–Ω—å—à–∏ –º–∞—Å—Å—É (mass) - –ò–∑–º–µ–Ω–∏ —É–ø—Ä—É–≥–æ—Å—Ç—å (restitution) -
–î–æ–±–∞–≤—å —à–∞—Ä—ã —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ —Ü–≤–µ—Ç–æ–≤ - –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ —à–∞—Ä–æ–≤
—Å—Ä–∞–∑—É</p>
<h2 id="–≥–æ—Ç–æ–≤-—Å–æ–∑–¥–∞–≤–∞—Ç—å-—Å–≤–æ–π-–º–∏—Ä-—Å-—Ñ–∏–∑–∏–∫–æ–π">–ì–æ—Ç–æ–≤ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–π –º–∏—Ä —Å
—Ñ–∏–∑–∏–∫–æ–π?</h2>
<p>–¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∞–¥–∞—é—â–∏–µ —à–∞—Ä—ã –≤ –Ω–∞—à –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π
–±–∞—Å—Å–µ–π–Ω! –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —Å–æ–∑–¥–∞–≤–∞–π —Ä–∞–∑–Ω—ã–µ —à–∞—Ä—ã –∏ –Ω–∞–±–ª—é–¥–∞–π
–∑–∞ –∫—Ä–∞—Å–∏–≤—ã–º–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏! üî¥üîµüü¢</p>
