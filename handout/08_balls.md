# –ü–∞–¥–∞—é—â–∏–µ —à–∞—Ä—ã: –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–∑–∏–∫—É –∏ –¥–≤–∏–∂–µ–Ω–∏–µ üî¥üîµ

## –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∏–∑–∏–∫–∞ –≤ 3D –º–∏—Ä–µ?

–§–∏–∑–∏–∫–∞ –≤ 3D –º–∏—Ä–µ - —ç—Ç–æ –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –æ–±—ä–µ–∫—Ç—ã –¥–≤–∏–≥–∞—Ç—å—Å—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ. –í –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ —à–∞—Ä—ã –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å, —Å—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è —Å–æ —Å—Ç–µ–Ω–∫–∞–º–∏ –±–∞—Å—Å–µ–π–Ω–∞ –∏ –æ—Ç—Å–∫–∞–∫–∏–≤–∞—Ç—å - —Å–æ–≤—Å–µ–º –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ!

## –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–¥–∞—é—â–µ–≥–æ —à–∞—Ä–∞

–®–∞—Ä - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–¥—á–∏–Ω—è—Ç—å—Å—è –∑–∞–∫–æ–Ω–∞–º —Ñ–∏–∑–∏–∫–∏:
- –ü–∞–¥–∞—Ç—å –ø–æ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏
- –û—Ç—Å–∫–∞–∫–∏–≤–∞—Ç—å –æ—Ç —Å—Ç–µ–Ω–æ–∫ –∏ –¥–Ω–∞ –±–∞—Å—Å–µ–π–Ω–∞
- –°—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ —à–∞—Ä–∞–º–∏

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∑–∏–∫—É –∫ —à–∞—Ä—É?

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É React Three Cannon –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–∑–∏–∫–∏:

```javascript
function FallingBall({ position, size, color }) {
  // useSphere —Å–æ–∑–¥–∞–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Ç–µ–ª–æ –≤ —Ñ–æ—Ä–º–µ —à–∞—Ä–∞
  const [ref] = useSphere(() => ({
    mass: size * 10, // –ú–∞—Å—Å–∞ —à–∞—Ä–∞ (—Ç—è–∂–µ–ª–µ–µ = —Å–∏–ª—å–Ω–µ–µ –ø–∞–¥–∞–µ—Ç)
    position, // –ù–∞—á–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
    args: [size], // –†–∞–∑–º–µ—Ä —à–∞—Ä–∞
    restitution: 0.8, // –£–ø—Ä—É–≥–æ—Å—Ç—å (–Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –æ—Ç—Å–∫–∞–∫–∏–≤–∞–µ—Ç)
    linearDamping: 0.1 // –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞
  }));

  return (
    <mesh ref={ref} castShadow>
      <sphereGeometry args={[size, 16, 16]} />
      <meshStandardMaterial 
        color={color} 
        metalness={0.5} 
        roughness={0.1} 
      />
    </mesh>
  );
}
```

## –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–∑–∏–∫–∏?

- **mass** - –º–∞—Å—Å–∞ —à–∞—Ä–∞. –ß–µ–º –±–æ–ª—å—à–µ –º–∞—Å—Å–∞, —Ç–µ–º —Ç—è–∂–µ–ª–µ–µ —à–∞—Ä
- **restitution** - —É–ø—Ä—É–≥–æ—Å—Ç—å. –ó–Ω–∞—á–µ–Ω–∏–µ 1 –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —à–∞—Ä –æ—Ç—Å–∫–∞–∫–∏–≤–∞–µ—Ç —Å —Ç–æ–π –∂–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é, —Å –∫–æ—Ç–æ—Ä–æ–π —É–¥–∞—Ä–∏–ª—Å—è
- **linearDamping** - —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ. –ö–∞–∫ –±—ã—Å—Ç—Ä–æ —à–∞—Ä –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–∞—Ä–æ–≤

–ú—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ —à–∞—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –º–∞—Å—Å–∏–≤ –∏ –º–µ—Ç–æ–¥ map:

```javascript
function Scene() {
  // –ú–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞—Ä–∞
  const balls = [
    { id: 1, position: [0, 5, 0], size: 0.5, color: "#ff0000" },
    { id: 2, position: [1, 7, 0], size: 0.7, color: "#00ff00" },
    { id: 3, position: [-1, 6, 0], size: 0.3, color: "#0000ff" }
  ];

  return (
    <>
      {/* –°–æ–∑–¥–∞–µ–º —à–∞—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞ */}
      {balls.map(ball => (
        <FallingBall 
          key={ball.id}
          position={ball.position}
          size={ball.size}
          color={ball.color}
        />
      ))}
      <Pool />
    </>
  );
}
```

## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —à–∞—Ä–æ–≤

–°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ - —Å–æ–∑–¥–∞–≤–∞—Ç—å —à–∞—Ä—ã —Å –ø–æ–º–æ—â—å—é –º—ã—à–∏!

```javascript
function Scene() {
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —à–∞—Ä–æ–≤
  const [balls, setBalls] = useState([]);
  
  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —à–∞—Ä–∞
  function createBall(x, y) {
    const newBall = {
      id: Math.random(), // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
      position: [x, 5, 0], // –ü–æ–ª–æ–∂–µ–Ω–∏–µ (x –∏–∑ –º—ã—à–∏, y - –≤—ã—Å–æ–∫–æ)
      size: 0.2 + Math.random() * 0.3, // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
      color: `hsl(${Math.random() * 360}, 80%, 60%)` // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
    };
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —à–∞—Ä –≤ –º–∞—Å—Å–∏–≤ —à–∞—Ä–æ–≤
    setBalls([...balls, newBall]);
  }
  
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –º—ã—à–∏
  function handleClick(event) {
    // –í—ã—á–∏—Å–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ 3D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –º—ã—à–∏
    const x = (event.clientX / window.innerWidth) * 2 - 1;
    const y = -(event.clientY / window.innerHeight) * 2 + 1;
    
    createBall(x * 5, y * 5); // –°–æ–∑–¥–∞–µ–º —à–∞—Ä
  }
  
  return (
    <Canvas onClick={handleClick}>
      {/* –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —à–∞—Ä—ã */}
      {balls.map(ball => (
        <FallingBall key={ball.id} {...ball} />
      ))}
      <Pool />
    </Canvas>
  );
}
```

## –£–ª—É—á—à–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —à–∞—Ä–∞–º–∏

–ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å "–¥–µ—Ä–∂–∞—Ç—å" —à–∞—Ä, –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –µ–≥–æ –∏ –∑–∞—Ç–µ–º –æ—Ç–ø—É—Å–∫–∞—Ç—å:

```javascript
function App() {
  const [isPressed, setIsPressed] = useState(false);
  const [heldBall, setHeldBall] = useState(null);
  
  function handleMouseDown() {
    setIsPressed(true);
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —à–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –∑–∞ –º—ã—à—å—é
    setHeldBall({
      id: Math.random(),
      size: 0.3 + Math.random() * 0.3,
      color: `hsl(${Math.random() * 360}, 80%, 60%)`,
      isHeld: true // –û—Ç–º–µ—á–∞–µ–º, —á—Ç–æ —à–∞—Ä "–¥–µ—Ä–∂–∞—Ç"
    });
  }
  
  function handleMouseUp() {
    if (heldBall) {
      // –ö–æ–≥–¥–∞ –æ—Ç–ø—É—Å–∫–∞–µ–º —à–∞—Ä, –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –≤ –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫
      setBalls(balls => [...balls, { ...heldBall, isHeld: false }]);
      setHeldBall(null);
    }
    setIsPressed(false);
  }
  
  return (
    <Canvas
      onMouseDown={handleMouseDown}
      onMouseUp={handleMouseUp}
    >
      {/* –®–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –¥–µ—Ä–∂–∞—Ç */}
      {heldBall && <HeldBall {...heldBall} />}
      
      {/* –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —à–∞—Ä—ã */}
      {balls.map(ball => <FallingBall key={ball.id} {...ball} />)}
      
      <Pool />
    </Canvas>
  );
}
```

## –§–∏–∑–∏—á–µ—Å–∫–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —à–∞—Ä–∞–º–∏

–°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ - —ç—Ç–æ –Ω–∞–±–ª—é–¥–∞—Ç—å, –∫–∞–∫ —à–∞—Ä—ã —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º! React Three Cannon –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è - –Ω–∞–º –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–µ–ª–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

## –î–∞–≤–∞–π –ø–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–µ–º!

–ü–æ–ø—Ä–æ–±—É–π –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∞—Ä–æ–≤ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –£–≤–µ–ª–∏—á—å –∏–ª–∏ —É–º–µ–Ω—å—à–∏ –º–∞—Å—Å—É (mass)
- –ò–∑–º–µ–Ω–∏ —É–ø—Ä—É–≥–æ—Å—Ç—å (restitution)
- –î–æ–±–∞–≤—å —à–∞—Ä—ã —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ —Ü–≤–µ—Ç–æ–≤
- –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ —à–∞—Ä–æ–≤ —Å—Ä–∞–∑—É

## –ì–æ—Ç–æ–≤ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–π –º–∏—Ä —Å —Ñ–∏–∑–∏–∫–æ–π?

–¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∞–¥–∞—é—â–∏–µ —à–∞—Ä—ã –≤ –Ω–∞—à –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –±–∞—Å—Å–µ–π–Ω! –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —Å–æ–∑–¥–∞–≤–∞–π —Ä–∞–∑–Ω—ã–µ —à–∞—Ä—ã –∏ –Ω–∞–±–ª—é–¥–∞–π –∑–∞ –∫—Ä–∞—Å–∏–≤—ã–º–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏! üî¥üîµüü¢